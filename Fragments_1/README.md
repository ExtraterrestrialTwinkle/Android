# Фрагменты

Задача
Цель задания
В задании вы продолжите дорабатывать приложение, с которым работали на предыдущих уроках. Вы научитесь отображать фрагменты динамически, передавать аргументы внутрь фрагментов, работать с бекстеком, взаимодействовать с активити и использовать вложенные фрагменты.

В качестве дополнительного задания вам предстоит самостоятельно разобраться с паттерном master-detail и научиться отображать фрагменты с анимацией.


Что нужно сделать
Создайте фрагмент LoginFragment на основе экрана логина из домашнего задания модуля «Жизненный цикл Activity». Перенесите в него логику экрана логина из активити. 
MainActivity должно выступать в качестве контейнера для фрагментов. Поэтому в разметке активити должен присутствовать только контейнер FrameLayout. 
Используйте транзакции фрагментов, чтобы динамически менять их в активити. По запуску приложения в MainActivity должен открыться LoginFragment с формой логина. После успешного логина LoginFragment должен меняться на MainFragment.
MainFragment является родительским фрагментом для двух других фрагментов: списка (ListFragment) и детальной информации (DetailFragment). Для этого используйте вложенные фрагменты и childFragmentManager. При открытии MainFragment в его контейнер должен добавляться ListFragment со списком элементов.
По нажатию на элемент списка должен открыться фрагмент детальной информации. Также необходимо настроить обращение к родительскому фрагменту MainFragment и оповестить его, чтобы он открыл фрагмент детальной информации для выбранной сущности.

По нажатию кнопки «Назад» в DetailFragment приложение возвращается на ListFragment. По нажатию «Назад» на ListFragment происходит выход из приложения. Используйте fragment backstack.
В итоге должна получиться следующая структура:


Дополнительное задание
Настройте анимацию при смене фрагментов.
Используйте паттерн master-detail, чтобы отобразить список элементов и детальную информацию на одном экране, если приложение запущено на планшете. Для этого:
Создайте альтернативный ресурс разметки MainFragment для планшета.
В ресурсе разметки планшета должен быть статический фрагмент с ListFragment в левой части экрана и контейнер для динамического фрагмента справа. Установите id динамического контейнера аналогично равным id контейнера в обычной вёрстке MainFragment из основной части домашнего задания.
При запуске MainFragment проверяйте, запущено ли приложение на планшете. Если да — ничего не делайте, так как ListFragment будет отображен автоматически. Если нет — настройте открытие ListFragment, как в основной части домашнего задания.
При нажатии на элемент списка должен открываться фрагмент детальной информации в правой части экрана. Этот пункт должен заработать автоматически при корректной реализации основной части домашнего задания и пунктов, указанных выше.



Критерии оценки
Код оформлен в соответствии с правилами.
Соблюдены принципы инкапсуляции с помощью модификаторов доступа.
Классы не являются финальными (open, abstract) только по необходимости.
Текстовые строки не являются захардкоженными и используются из ресурсов.
Фрагменты взаимодействуют друг с другом с помощью обращения к родительской сущности: активити или родительскому фрагменту.
При обращении к родительской сущности используется её приведение к интерфейсу, а не к конкретному классу.
Данные передаются во фрагмент с помощью аргументов.
Фрагмент с аргументами создаётся в функции внутри companion object класса фрагмента: fun newInstance(args): Fragment.
