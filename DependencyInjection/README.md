# Dependency Injection
Задача
В этом домашнем задании вы реализуете DI с использованием Dagger Hilt.

Вы поработаете с модулями и компонентами, научитесь предоставлять зависимости по интерфейсу и учитывать область жизни зависимостей. По желанию вы реализуете DI без использования Hilt, только с применением Dagger 2.



Цели задания
Реализовать DI с использованием Dagger Hilt.
Поработать с модулями.
Поработать с компонентами.
Научиться предоставлять зависимость по интерфейсу.
Научиться учитывать область жизни зависимостей.
Реализовать DI с использованием чистого Dagger 2.


Что нужно сделать
1. Скачайте проект в папке ДЗ DependencyInjection. Вам необходимо будет добавить DI в этот проект.

Приложение состоит из 2 экранов.

Экран списка скачанных изображений:

Диалог добавления изображения:

2. Изучите проект. Определите места, где нужно использовать DI.

3. Используя constructor injection, инъецируйте зависимости при помощи Dagger Hilt.

4. Создайте модули для предоставления зависимостей.

5. Избавьтесь от объекта Networking. Инъецируйте Api в конструктор репозитория с помощью Dagger.

6. Сделайте так, чтобы ViewModel зависели от интерфейса репозитория, а не от реализации.

7. Определите время жизни зависимостей: RetrofitApi должно иметь время жизни, совпадающее с временем жизни приложения. ImagesRepository — время жизни, совпадающее с временем жизни ViewModel. Для этого используйте scope-аннотации.

8. По желанию поработайте с квалификаторами. Создайте в network-модуле метод provideOkhttpClient, который на вход принимает 2 Interceptor: HttpLoggingInterceptor для логирования и AppVersionInterceptor для добавления версии приложения в url запроса (AppVersionInterceptor можно найти в проекте).

@Provides

fun providesOkHttpClient(

    loggingInterceptor: Interceptor,

    appVersionInterceptor: Interceptor

): OkHttpClient {...}
9. Используйте именно интерфейс Interceptor, чтобы можно было их подменить в будущем. Чтобы предоставлять разные объекты одного типа, используйте квалификаторы. Для этого ознакомьтесь с первой статьёй из дополнительных материалов.

10. По желанию реализуйте все вышеперечисленные пункты с помощью чистого Dagger 2. Выполняйте этот пункт уже после того, как остальные пункты будут приняты преподавателем. Для того чтобы выполнить этот пункт задания, изучите дополнительные материалы по Dagger 2.



Советы и рекомендации
Dagger может автоматически создать зависимость, конструктор которой помечен аннотацией @Inject. Предоставление такой зависимости не нужно описывать в модуле.
Разбивайте модули на разные классы в соответствии с типом зависимостей, предоставляемых в модуле. Например, всё, что касается зависимостей для сетевого слоя, вынесите в NetworkModule, что касается зависимостей слоя БД — в DbModule.
Старайтесь чтобы каждый provides-метод создавал только один объект.
Например, вместо того чтобы создать единый provides-метод, в котором будет создан OkHttpClient, Retrofit, Api и возвращается Api, создайте 3 метода:

providesOkHttpClient,
providesRetrofit,
providesApi.
Это позволит переиспользовать создание OkHttpClient и Retrofit, если они где-нибудь понадобятся.

